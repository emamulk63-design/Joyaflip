<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ü™ô Coin Flip Game - ‡¶ú‡ßü‡¶æ‡¶≠‡¶æ‡¶á</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}
body{
  background: linear-gradient(135deg,#ff9a9e,#fad0c4,#a1c4fd,#c2e9fb);
  display:flex;justify-content:center;align-items:center;min-height:100vh;padding:20px;
}
.game-container{
  background: radial-gradient(circle at top left,#ffffff,#ffe6f0,#e6f7ff);
  border-radius:25px;box-shadow:0 15px 35px rgba(0,0,0,0.2);
  padding:30px 25px;max-width:420px;width:100%;text-align:center;
}
h1{margin-bottom:20px;color:#ff4d6d;text-shadow:0 2px 5px rgba(0,0,0,0.2);}
.balance-card,.bet-card{
  background:linear-gradient(145deg,#fff8e1,#ffe0f0);
  border-radius:18px;padding:15px;margin-bottom:20px;
  box-shadow:0 6px 18px rgba(0,0,0,0.1);
}
.balance-card span{font-weight:600;font-size:22px;color:#2a9d8f;}
.bet-card input{width:80px;padding:8px;border-radius:10px;border:1px solid #ccc;margin-bottom:10px;font-size:16px;}
.bet-buttons{display:flex;justify-content:center;gap:10px;margin-top:20px;flex-wrap:wrap;}
.bet-buttons button{display:flex;align-items:center;gap:6px;padding:10px 15px;border-radius:12px;border:none;font-size:16px;font-weight:600;cursor:pointer;color:white;transition:transform 0.2s ease,box-shadow 0.2s ease,filter 0.2s ease;}
.bet-buttons button:hover{transform:translateY(-4px) scale(1.05);box-shadow:0 6px 20px rgba(0,0,0,0.3);filter:brightness(1.1);}
.btn-joya1{background:linear-gradient(45deg,#ff6a6a,#ffb347);}
.btn-joya2{background:linear-gradient(45deg,#6a11cb,#2575fc);}
.btn-joya3{background:linear-gradient(45deg,#f7971e,#ffd200);}
.bet-buttons img{width:30px;height:30px;border-radius:50%;}
.coin-container{perspective:1500px;margin:20px 0;position:relative;height:160px;}
.coin{width:120px;height:120px;margin:0 auto;background-size:cover;border-radius:50%;transform-style:preserve-3d;position:absolute;top:0;left:50%;transform:translateX(-50%);transition:transform 0.5s ease;}
.coin-shadow{width:100px;height:10px;background:rgba(0,0,0,0.2);border-radius:50%;position:absolute;bottom:0;left:50%;transform:translateX(-50%) scaleX(1);transition:transform 0.5s ease;}
.result{margin-top:15px;padding:10px;border-radius:10px;font-weight:600;font-size:18px;min-height:40px;text-shadow:0 1px 2px rgba(0,0,0,0.2);}
.result.win{background:linear-gradient(90deg,#a1ffce,#faffd1);color:#155724;}
.result.lose{background:linear-gradient(90deg,#f5576c,#f093fb);color:#721c24;}
.deposit-withdraw{display:flex;justify-content:center;gap:10px;margin-top:20px;}
.deposit-withdraw button{padding:7px 15px;border-radius:10px;border:none;font-weight:600;cursor:pointer;background:#2a9d8f;color:white;transition:transform 0.2s ease,box-shadow 0.2s ease;}
.deposit-withdraw button:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,0.2);}

/* Modal Styles */
.modal{display:none;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;overflow:auto;background:rgba(0,0,0,0.5);}
.modal-content{background:#fff;border-radius:15px;padding:20px;width:300px;margin:100px auto;position:relative;text-align:center;box-shadow:0 8px 25px rgba(0,0,0,0.3);}
.modal-content img{width:80px;margin:10px 0;}
.close{position:absolute;top:10px;right:15px;font-size:25px;font-weight:bold;cursor:pointer;}
#modalConfirm{background:#2a9d8f;color:white;padding:10px 20px;border:none;border-radius:10px;margin-top:10px;cursor:pointer;}
#modalConfirm:hover{background:#2575fc;}
#modalAmount{width:80%;padding:8px;margin-top:10px;border-radius:8px;border:1px solid #ccc;font-size:16px;}
</style>
</head>
<body>
<div class="game-container">
  <h1>ü™ô Coin Flip Game - ‡¶ú‡ßü‡¶æ‡¶≠‡¶æ‡¶á</h1>
  <div class="balance-card">‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏: <span id="balance">1000</span> ‡¶ü‡¶æ‡¶ï‡¶æ</div>
  <div class="bet-card">
    <input type="number" id="bet" placeholder="‡¶¨‡ßá‡¶ü" min="1">
  </div>
  <div class="coin-container">
    <div class="coin" id="coin"></div>
    <div class="coin-shadow" id="coinShadow"></div>
  </div>
  <div class="bet-buttons">
    <button class="btn-joya1" onclick="placeBet('option1')"><img src="https://raw.githubusercontent.com/emamulk63-design/Joyaflip/main/joyapic2.png" alt="‡¶ú‡ßü‡¶æ ‡ßß"> ‡¶ú‡ßü‡¶æ ‡ßß</button>
    <button class="btn-joya2" onclick="placeBet('option2')"><img src="https://raw.githubusercontent.com/emamulk63-design/Joyaflip/main/Picsart_25-09-17_15-51-29-549.png" alt="‡¶ú‡ßü‡¶æ ‡ß®"> ‡¶ú‡ßü‡¶æ ‡ß®</button>
    <button class="btn-joya3" onclick="placeBet('option3')"><img src="https://raw.githubusercontent.com/emamulk63-design/Joyaflip/main/Picsart_25-10-02_00-49-26-393(0).png" alt="‡¶ú‡ßü‡¶æ ‡ß©"> ‡¶ú‡ßü‡¶æ ‡ß©</button>
  </div>
  <div class="result" id="result"></div>
  <div class="deposit-withdraw">
    <button onclick="openModal('deposit')">Deposit</button>
    <button onclick="openModal('withdraw')">Withdraw</button>
  </div>
</div>

<!-- Modal Structure with Bkash Logo -->
<div id="modal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">&times;</span>
    <h3 id="modalTitle">Deposit / Withdraw</h3>
    <img src="https://raw.githubusercontent.com/emamulk63-design/Joyaflip/main/bkashlogo.png" alt="‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂">
    <input type="number" id="modalAmount" placeholder="‡¶ü‡¶æ‡¶ï‡¶æ" min="1">
    <button id="modalConfirm">Confirm</button>
  </div>
</div>

<audio id="flipSound" src="https://raw.githubusercontent.com/emamulk63-design/Joyaflip/main/Coin_Flip___Free_Sound_Effect_MP3_256kbps_256k.mp3"></audio>
<audio id="winSound" src="https://raw.githubusercontent.com/emamulk63-design/Joyaflip/main/Win.mp3"></audio>
<audio id="loseSound" src="https://raw.githubusercontent.com/emamulk63-design/Joyaflip/main/lose.mp3"></audio>

<script>
let balance=1000;
const outcomes={"option1":"‡¶ú‡ßü‡¶æ ‡ßß","option2":"‡¶ú‡ßü‡¶æ ‡ß®","option3":"‡¶ú‡ßü‡¶æ ‡ß©"};
const coinImages={"option1":"https://raw.githubusercontent.com/emamulk63-design/Joyaflip/main/joyapic2.png","option2":"https://raw.githubusercontent.com/emamulk63-design/Joyaflip/main/Picsart_25-09-17_15-51-29-549.png","option3":"https://raw.githubusercontent.com/emamulk63-design/Joyaflip/main/Picsart_25-10-02_00-49-26-393(0).png"};

function updateBalance(){document.getElementById('balance').innerText=balance;}
function showResult(msg,type){const res=document.getElementById('result');res.innerText=msg;res.className='result '+type;}

/* Modal Functions */
let currentAction='';
function openModal(action){
  currentAction=action;
  document.getElementById('modalTitle').innerText = action==='deposit'?'Deposit':'Withdraw';
  document.getElementById('modalAmount').value='';
  document.getElementById('modal').style.display='block';
}
function closeModal(){document.getElementById('modal').style.display='none';}
document.getElementById('modalConfirm').onclick=function(){
  let amt=parseInt(document.getElementById('modalAmount').value);
  if(isNaN(amt)||amt<=0){alert('‡¶ü‡¶æ‡¶ï‡¶æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®');return;}
  if(currentAction==='deposit'){balance+=amt;showResult(`‡¶Ü‡¶™‡¶®‡¶ø ${amt} ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®‡•§`,'win');}
  else{if(amt>balance){alert('‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ ‡¶™‡¶∞‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶§ ‡¶®‡ßü');return;}balance-=amt;showResult(`‡¶Ü‡¶™‡¶®‡¶ø ${amt} ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®‡•§`,'win');}
  updateBalance();closeModal();
}

/* Coin Flip Game */
function placeBet(choice){
  let bet=parseInt(document.getElementById('bet').value);
  if(bet>balance){showResult(`‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ ‡¶™‡¶∞‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶§ ‡¶®‡ßü‡•§`,'lose');return;}
  if(bet<=0||isNaN(bet)){showResult(`‡¶¨‡ßá‡¶ü ‡¶¶‡¶ø‡¶®‡•§`,'lose');return;}

  const coin=document.getElementById('coin');
  const shadow=document.getElementById('coinShadow');
  const sound=document.getElementById('flipSound');
  sound.currentTime=0; sound.play();

  const spins=3+Math.random()*2;
  const duration=2000;
  const finalOutcomeKeys=Object.keys(outcomes);
  const outcomeIndex=Math.floor(Math.random()*finalOutcomeKeys.length);
  const outcome=finalOutcomeKeys[outcomeIndex];

  let start=performance.now();
  function animate(time){
    let t=(time-start)/duration;if(t>1)t=1;
    let angle=spins*360*t; let yPos=-100+200*t;
    coin.style.transform=`translateX(-50%) translateY(${yPos}px) rotateX(${angle}deg)`;
    shadow.style.transform=`translateX(-50%) scaleX(${1-0.3*t})`;

    if(t<1) requestAnimationFrame(animate);
    else{
      coin.style.transition='transform 0.3s ease';
      coin.style.transform=`translateX(-50%) translateY(100px) rotateX(${angle}deg)`;
      coin.style.backgroundImage=`url('${coinImages[outcome]}')`;
      shadow.style.transform=`translateX(-50%) scaleX(0.7)`;
      setTimeout(()=>{coin.style.transform=`translateX(-50%) translateY(90px) rotateX(${angle}deg)`;shadow.style.transform=`translateX(-50%) scaleX(0.8)`;},200);

      setTimeout(()=>{
        if(choice===outcome){
          balance+=bet*2;updateBalance();
          showResult(`üéâ ‡¶Ü‡¶™‡¶®‡¶ø ‡¶ú‡¶ø‡¶§‡ßá‡¶õ‡ßá‡¶®! ${bet*2} ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡ßá‡ßü‡ßá‡¶õ‡ßá‡¶®‡•§ ‡¶´‡¶≤: ${outcomes[outcome]}`,'win');
          document.getElementById('winSound').play();
        } else {
          balance-=bet;updateBalance();
          showResult(`üòû ‡¶Ü‡¶™‡¶®‡¶ø ‡¶π‡ßá‡¶∞‡ßá‡¶õ‡ßá‡¶®! ${bet} ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶π‡¶æ‡¶∞‡¶æ‡¶≤‡ßá‡¶®‡•§ ‡¶´‡¶≤: ${outcomes[outcome]}`,'lose');
          document.getElementById('loseSound').play();
        }
      },400);
    }
  }
  requestAnimationFrame(animate);
}
updateBalance();
</script>
</body>
</html>
