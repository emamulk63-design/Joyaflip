<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ü™ô Coin Flip Game - ‡¶ú‡ßü‡¶æ‡¶≠‡¶æ‡¶á</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}
html, body{width:100%;height:100%;overflow:hidden;}
body{
  background: linear-gradient(135deg,#ff9a9e,#fad0c4,#a1c4fd,#c2e9fb);
  display:flex;justify-content:center;align-items:center;
}
.game-container{
  background: radial-gradient(circle at top left,#ffffff,#ffe6f0,#e6f7ff);
  border-radius:2vw;
  box-shadow:0 1vw 2vw rgba(0,0,0,0.2);
  width:90vw;
  max-width:500px;
  height:90vh;
  padding:2vw;
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  text-align:center;
}
h1{margin-bottom:1vw;color:#ff4d6d;text-shadow:0 0.2vw 0.5vw rgba(0,0,0,0.2);font-size:4vw;}
.balance-card,.bet-card{
  background:linear-gradient(145deg,#fff8e1,#ffe0f0);
  border-radius:1.5vw;
  padding:1.2vw;
  margin-bottom:2vw;
  box-shadow:0 0.5vw 1.8vw rgba(0,0,0,0.1);
  font-size:3vw;
}
.balance-card span{font-weight:600;color:#2a9d8f;}
.bet-card input{width:40%;padding:1vw;border-radius:1vw;border:0.1vw solid #ccc;font-size:3vw;}
.bet-buttons{
  display:flex;justify-content:center;gap:2vw;margin-top:2vw;flex-wrap:wrap;
}
.bet-buttons button{
  display:flex;align-items:center;gap:0.5vw;padding:1vw 2vw;border-radius:1.2vw;
  border:none;font-size:3vw;font-weight:600;cursor:pointer;color:white;
  transition:transform 0.2s ease,box-shadow 0.2s ease,filter 0.2s ease;
}
.bet-buttons button:hover{transform:translateY(-0.4vw) scale(1.05);box-shadow:0 0.6vw 2vw rgba(0,0,0,0.3);filter:brightness(1.1);}
.btn-joya1{background:linear-gradient(45deg,#ff6a6a,#ffb347);}
.btn-joya2{background:linear-gradient(45deg,#6a11cb,#2575fc);}
.btn-joya3{background:linear-gradient(45deg,#f7971e,#ffd200);}
.bet-buttons img{width:5vw;height:5vw;border-radius:50%;}
.coin-container{perspective:1500px;margin:3vw 0;position:relative;flex:1;display:flex;align-items:center;justify-content:center;}
.coin{width:30vw;height:30vw;background-size:cover;border-radius:50%;transform-style:preserve-3d;transition:transform 0.5s ease;}
.coin-shadow{width:25vw;height:2vw;background:rgba(0,0,0,0.2);border-radius:50%;position:absolute;bottom:5%;transform:translateX(-50%) scaleX(1);transition:transform 0.5s ease;}
.result{margin-top:1vw;padding:1vw;border-radius:1vw;font-weight:600;font-size:3vw;min-height:4vw;text-shadow:0 0.2vw 0.4vw rgba(0,0,0,0.2);}
.result.win{background:linear-gradient(90deg,#a1ffce,#faffd1);color:#155724;}
.result.lose{background:linear-gradient(90deg,#f5576c,#f093fb);color:#721c24;}
.deposit-withdraw{display:flex;justify-content:center;gap:2vw;margin-top:2vw;}
.deposit-withdraw button{padding:1vw 3vw;border-radius:1vw;border:none;font-weight:600;cursor:pointer;background:#2a9d8f;color:white;transition:transform 0.2s ease,box-shadow 0.2s ease;}
.deposit-withdraw button:hover{transform:translateY(-0.2vw);box-shadow:0 0.4vw 1.2vw rgba(0,0,0,0.2);}

/* Modal Styles */
.modal{display:none;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;overflow:auto;background:rgba(0,0,0,0.5);}
.modal-content{background:#fff;border-radius:2vw;padding:3vw;width:80vw;max-width:400px;margin:15vh auto;position:relative;text-align:center;box-shadow:0 0.8vw 2.5vw rgba(0,0,0,0.3);}
.modal-content img{width:20vw;margin:2vw 0;}
.close{position:absolute;top:2vw;right:3vw;font-size:5vw;font-weight:bold;cursor:pointer;}
#modalConfirm{background:#2a9d8f;color:white;padding:2vw 4vw;border:none;border-radius:1.2vw;margin-top:2vw;cursor:pointer;}
#modalConfirm:hover{background:#2575fc;}
#modalAmount{width:80%;padding:1vw;margin-top:1vw;border-radius:1vw;border:0.1vw solid #ccc;font-size:3vw;}
</style>
</head>
<body>
<div class="game-container">
  <h1>ü™ô Coin Flip Game - ‡¶ú‡ßü‡¶æ‡¶≠‡¶æ‡¶á</h1>
  <div class="balance-card">‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏: <span id="balance">1000</span> ‡¶ü‡¶æ‡¶ï‡¶æ</div>
  <div class="bet-card">
    <input type="number" id="bet" placeholder="‡¶¨‡ßá‡¶ü" min="1">
  </div>
  <div class="coin-container">
    <div class="coin" id="coin"></div>
    <div class="coin-shadow" id="coinShadow"></div>
  </div>
  <div class="bet-buttons">
    <button class="btn-joya1" onclick="placeBet('option1')"><img src="https://raw.githubusercontent.com/emamulk63-design/Joyaflip/main/joyapic2.png" alt="‡¶ú‡ßü‡¶æ ‡ßß"> ‡¶ú‡ßü‡¶æ ‡ßß</button>
    <button class="btn-joya2" onclick="placeBet('option2')"><img src="https://raw.githubusercontent.com/emamulk63-design/Joyaflip/main/Picsart_25-09-17_15-51-29-549.png" alt="‡¶ú‡ßü‡¶æ ‡ß®"> ‡¶ú‡ßü‡¶æ ‡ß®</button>
    <button class="btn-joya3" onclick="placeBet('option3')"><img src="https://raw.githubusercontent.com/emamulk63-design/Joyaflip/main/Picsart_25-10-02_00-49-26-393(0).png" alt="‡¶ú‡ßü‡¶æ ‡ß©"> ‡¶ú‡ßü‡¶æ ‡ß©</button>
  </div>
  <div class="result" id="result"></div>
  <div class="deposit-withdraw">
    <button onclick="openModal('deposit')">Deposit</button>
    <button onclick="openModal('withdraw')">Withdraw</button>
  </div>
</div>

<!-- Modal Structure -->
<div id="modal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">&times;</span>
    <h3 id="modalTitle">Deposit / Withdraw</h3>
    <img src="https://raw.githubusercontent.com/emamulk63-design/Joyaflip/main/bkashlogo.png" alt="‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂">
    <input type="number" id="modalAmount" placeholder="‡¶ü‡¶æ‡¶ï‡¶æ" min="1">
    <button id="modalConfirm">Confirm</button>
  </div>
</div>

<audio id="flipSound" src="https://raw.githubusercontent.com/emamulk63-design/Joyaflip/main/Coin_Flip___Free_Sound_Effect_MP3_256kbps_256k.mp3"></audio>
<audio id="winSound" src="https://raw.githubusercontent.com/emamulk63-design/Joyaflip/main/Win.mp3"></audio>
<audio id="loseSound" src="https://raw.githubusercontent.com/emamulk63-design/Joyaflip/main/lose.mp3"></audio>
<audio id="warningSound" src="https://raw.githubusercontent.com/emamulk63-design/Joyaflip/main/warning.mp3"></audio>

<script>
const warningSound = document.getElementById('warningSound');
let balance=1000;
const outcomes={"option1":"‡¶ú‡ßü‡¶æ ‡ßß","option2":"‡¶ú‡ßü‡¶æ ‡ß®","option3":"‡¶ú‡ßü‡¶æ ‡ß©"};
const coinImages={"option1":"https://raw.githubusercontent.com/emamulk63-design/Joyaflip/main/joyapic2.png","option2":"https://raw.githubusercontent.com/emamulk63-design/Joyaflip/main/Picsart_25-09-17_15-51-29-549.png","option3":"https://raw.githubusercontent.com/emamulk63-design/Joyaflip/main/Picsart_25-10-02_00-49-26-393(0).png"};

function updateBalance(){
  document.getElementById('balance').innerText = balance;
  document.querySelectorAll('.bet-buttons button').forEach(btn=>{
    btn.disabled = balance <= 0;
    btn.style.opacity = balance <= 0 ? 0.5 : 1;
    btn.style.cursor = balance <= 0 ? 'not-allowed' : 'pointer';
  });
}
function showResult(msg,type){
  const res=document.getElementById('result');
  res.innerText=msg;
  res.className='result '+type;
}

/* Modal Functions */
let currentAction='';
function openModal(action){
  currentAction=action;
  document.getElementById('modalTitle').innerText = action==='deposit'?'Deposit':'Withdraw';
  document.getElementById('modalAmount').value='';
  document.getElementById('modal').style.display='block';
}
function closeModal(){document.getElementById('modal').style.display='none';}

document.getElementById('modalConfirm').onclick=function(){
  let amt=parseInt(document.getElementById('modalAmount').value);
  if(isNaN(amt)||amt<=0){alert('‡¶ü‡¶æ‡¶ï‡¶æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®'); return;}
  if(currentAction==='deposit'){
    balance+=amt;
    showResult(`‡¶Ü‡¶™‡¶®‡¶ø ${amt} ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®‡•§`,'win');
  } else {
    if(amt>balance){
      alert('‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ ‡¶™‡¶∞‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶§ ‡¶®‡ßü'); warningSound.play();
      return;
    }
    balance-=amt;
    showResult(`‡¶Ü‡¶™‡¶®‡¶ø ${amt} ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®‡•§`,'win');
  }
  updateBalance(); closeModal();
}

/* Coin Flip Game */
function placeBet(choice){
  let bet=parseInt(document.getElementById('bet').value);
  if(bet>balance){showResult(`‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ ‡¶™‡¶∞‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶§ ‡¶®‡ßü‡•§`,'lose');return;}
  if(bet<=0||isNaN(bet)){showResult(`‡¶¨‡ßá‡¶ü ‡¶¶‡¶ø‡¶®‡•§`,'lose');return;}

  const coin=document.getElementById('coin');
  const shadow=document.getElementById('coinShadow');
  const sound=document.getElementById('flipSound');
  sound.currentTime=0; sound.play();

  const spins=4+Math.random()*2;
  const duration=2000;
  const finalOutcomeKeys=Object.keys(outcomes);
  const outcomeIndex=Math.floor(Math.random()*finalOutcomeKeys.length);
  const outcome=finalOutcomeKeys[outcomeIndex];

  let start=performance.now();
  function animate(time){
    let t=(time-start)/duration; if(t>1)t=1;
    let angle=spins*360*t;
    let yPos=-30+60*t;
    coin.style.transform=`translateX(-50%) translateY(${yPos}vw) rotateX(${angle}deg) rotateY(${angle}deg)`;
    shadow.style.transform=`translateX(-50%) scaleX(${1-0.3*t})`;
    if(t<1) requestAnimationFrame(animate);
    else{
      coin.style.transition='transform 0.3s ease';
      coin.style.transform=`translateX(-50%) translateY(20vw) rotateX(${angle}deg) rotateY(${angle}deg)`;
      coin.style.backgroundImage=`url('${coinImages[outcome]}')`;
      shadow.style.transform=`translateX(-50%) scaleX(0.7)`;
      setTimeout(()=>{
        if(choice===outcome){
          balance+=bet*2; updateBalance();
          showResult(`üéâ ‡¶Ü‡¶™‡¶®‡¶ø ‡¶ú‡¶ø‡¶§‡ßá‡¶õ‡ßá‡¶®! ${bet*2} ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡ßá‡ßü‡ßá‡¶õ‡ßá‡¶®‡•§ ‡¶´‡¶≤: ${outcomes[outcome]}`,'win');
          document.getElementById('winSound').play();
        } else {
          balance-=bet; updateBalance();
          showResult(`üòû ‡¶Ü‡¶™‡¶®‡¶ø ‡¶π‡ßá‡¶∞‡ßá‡¶õ‡ßá‡¶®! ${bet} ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶π‡¶æ‡¶∞‡¶æ‡¶≤‡ßá‡¶®‡•§ ‡¶´‡¶≤: ${outcomes[outcome]}`,'lose');
          document.getElementById('loseSound').play();
        }
      },400);
    }
  }
  requestAnimationFrame(animate);
}
updateBalance();
</script>
</body>
</html>
